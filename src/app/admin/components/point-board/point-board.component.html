<div class="container">
  <mat-toolbar class="toolbar toolbar-title">
    <span>{{headerTitle}}</span>
  </mat-toolbar>

  <mat-spinner *ngIf="isLoading"></mat-spinner>

  <div class="row">
    <div class="col-lg-3 col-md-6 col-sm-12">
      <mat-form-field class="form-input">
        <mat-label>Sezonlar</mat-label>
        <mat-select
          matInput
          placeholder="Sezon"
          [(ngModel)]="seasonSelectionId"
          (selectionChange)="onSeasonChange()"
        >
          <mat-option
            *ngFor="let season of seasonList"
            [value]="season.id"
          >
            {{season.seasonName}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-lg-3 col-md-6 col-sm-12">
      <mat-form-field class="form-input">
        <mat-label>Ligler</mat-label>
        <mat-select
          matInput
          placeholder="Lig"
          [(ngModel)]="leagueSelectionId"
          (selectionChange)="onLeagueChange()"
        >
          <mat-option
            *ngFor="let league of leagueList"
            [value]="league.id"
          >
            {{league.leagueName}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-lg-3 col-md-6 col-sm-12">
      <mat-form-field class="form-input">
        <mat-label>Gruplar</mat-label>
        <mat-select
          matInput
          placeholder="Grup"
          [(ngModel)]="groupstageSelectionId"
          (selectionChange)="onGroupStageChange()"
        >
          <mat-option
            *ngFor="let group of groupstageList"
            [value]="group.id"
          >
            {{group.groupName}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-lg-3 col-md-6 col-sm-12">
      <mat-form-field class="form-input">
        <mat-label>Hafta</mat-label>
        <mat-select
          matInput
          placeholder="Hafta"
          [(ngModel)]="matchWeekSelectionValue"
        >
          <mat-option
            *ngFor="let week of weekSequenceList"
            [value]="week.weekSequence"
          >
            {{week.weekSequence + '. Hafta'}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-12">
      <button
        mat-raised-button
        type="button"
        class="btn-search"
        color="primary"
        (click)="onSearch()"
      >
        <mat-icon>search</mat-icon>
          Arama
      </button>
    </div>
  </div>

  <div class="container-point-board">

    <table mat-table [dataSource]="pointBoardList" class="mat-elevation-z8" *ngIf="!isLoading">
      <ng-container matColumnDef="order">
          <th mat-header-cell *matHeaderCellDef="">Sıralama</th>
          <td mat-cell *matCellDef="let team; let i = index">{{i+1}}</td>
      </ng-container>

      <ng-container matColumnDef="team">
        <th mat-header-cell *matHeaderCellDef="">Takım</th>
        <td mat-cell *matCellDef="let team">
          {{team.teamName}}
          <fa-icon
              *ngIf="findExpelledOrRecededTeam(team.teamId)"
              [icon]="fontAwesomeIconList.faCircleInfo"
              class="icon icon-circle-info"
              matTooltip="{{findExpelledOrRecededExplanation(team.teamId)}}">
          </fa-icon>
        </td>
      </ng-container>

      <ng-container matColumnDef="played">
        <th mat-header-cell *matHeaderCellDef="">O</th>
        <td mat-cell *matCellDef="let team">{{team.matchPlayed}}</td>
      </ng-container>

      <ng-container matColumnDef="win">
        <th mat-header-cell *matHeaderCellDef="">G</th>
        <td mat-cell *matCellDef="let team">{{team.matchWin}}</td>
      </ng-container>

      <ng-container matColumnDef="draw">
        <th mat-header-cell *matHeaderCellDef="">B</th>
        <td mat-cell *matCellDef="let team">{{team.matchDraw}}</td>
      </ng-container>

      <ng-container matColumnDef="lose">
        <th mat-header-cell *matHeaderCellDef="">M</th>
        <td mat-cell *matCellDef="let team">{{team.matchLose}}</td>
      </ng-container>

      <ng-container matColumnDef="goalScored">
        <th mat-header-cell *matHeaderCellDef="">AG</th>
        <td mat-cell *matCellDef="let team">{{team.goalScored}}</td>
      </ng-container>

      <ng-container matColumnDef="goalConceded">
        <th mat-header-cell *matHeaderCellDef="">YG</th>
        <td mat-cell *matCellDef="let team">{{team.goalConceded}}</td>
      </ng-container>

      <ng-container matColumnDef="goalAverage">
        <th mat-header-cell *matHeaderCellDef="">Av</th>
        <td mat-cell *matCellDef="let team">{{team.goalAverage}}</td>
      </ng-container>

      <ng-container matColumnDef="totalPoints">
        <th mat-header-cell *matHeaderCellDef="">P</th>
        <td mat-cell *matCellDef="let team" class="font-pointtotal">{{team.pointTotal}}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="tableColumnsPointBoard" class="table-header-row"></tr>
      <tr mat-row *matRowDef="let row; columns: tableColumnsPointBoard;" class="table-detail-row"></tr>
    </table>

  </div>

  <br><br>

</div>
